<section class="activity">
  <div class="title">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M0 8a8 8 0 1116 0v5.25a.75.75 0 01-1.5 0V8a6.5 6.5 0 10-13 0v5.25a.75.75 0 01-1.5 0V8zm5.5 4.25a.75.75 0 01.75-.75h3.5a.75.75 0 010 1.5h-3.5a.75.75 0 01-.75-.75zM3 6.75C3 5.784 3.784 5 4.75 5h6.5c.966 0 1.75.784 1.75 1.75v1.5A1.75 1.75 0 0111.25 10h-6.5A1.75 1.75 0 013 8.25v-1.5zm1.47-.53a.75.75 0 011.06 0l.97.97.97-.97a.75.75 0 011.06 0l.97.97.97-.97a.75.75 0 111.06 1.06l-1.5 1.5a.75.75 0 01-1.06 0L8 7.81l-.97.97a.75.75 0 01-1.06 0l-1.5-1.5a.75.75 0 010-1.06z"></path></svg>
    Recent activity
  </div>
  <div class="body">
    <% if (result instanceof Error) { %>
      <div class="error">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.343 13.657A8 8 0 1113.657 2.343 8 8 0 012.343 13.657zM6.03 4.97a.75.75 0 00-1.06 1.06L6.94 8 4.97 9.97a.75.75 0 101.06 1.06L8 9.06l1.97 1.97a.75.75 0 101.06-1.06L9.06 8l1.97-1.97a.75.75 0 10-1.06-1.06L8 6.94 6.03 4.97z"></path></svg>
        <span><%= result.message %></span>
      </div>
    <% } else { %>
      <div class="rows">
        <% for (const {type, ...event} of result.events) { %>
          <div class="entry columns">
            <div class="icon">
              <% if (type === "star") { %>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path></svg>
              <% } %>
              <% if (type === "issue") { %>
                <% if (event.action === "opened") { %>
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path></svg>
                <% } else if (event.action === "reopened") { %>
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M5.029 2.217a6.5 6.5 0 0 1 9.437 5.11.75.75 0 1 0 1.492-.154 8 8 0 0 0-14.315-4.03L.427 1.927A.25.25 0 0 0 0 2.104V5.75A.25.25 0 0 0 .25 6h3.646a.25.25 0 0 0 .177-.427L2.715 4.215a6.491 6.491 0 0 1 2.314-1.998ZM1.262 8.169a.75.75 0 0 0-1.22.658 8.001 8.001 0 0 0 14.315 4.03l1.216 1.216a.25.25 0 0 0 .427-.177V10.25a.25.25 0 0 0-.25-.25h-3.646a.25.25 0 0 0-.177.427l1.358 1.358a6.501 6.501 0 0 1-11.751-3.11.75.75 0 0 0-.272-.506Z"></path><path d="M9.06 9.06a1.5 1.5 0 1 1-2.12-2.12 1.5 1.5 0 0 1 2.12 2.12Z"></path></svg>
                <% } else if (event.action === "closed") { %>
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M11.28 6.78a.75.75 0 0 0-1.06-1.06L7.25 8.69 5.78 7.22a.75.75 0 0 0-1.06 1.06l2 2a.75.75 0 0 0 1.06 0l3.5-3.5Z"></path><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0Zm-1.5 0a6.5 6.5 0 1 0-13 0 6.5 6.5 0 0 0 13 0Z"></path></svg>
                <% } else { %>
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M1.5 8a6.5 6.5 0 0 1 13 0A.75.75 0 0 0 16 8a8 8 0 1 0-8 8 .75.75 0 0 0 0-1.5A6.5 6.5 0 0 1 1.5 8Z"></path><path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm3.573 5.823-2.896-2.896a.25.25 0 0 1 0-.354l2.896-2.896a.25.25 0 0 1 .427.177V11.5h3.25a.75.75 0 0 1 0 1.5H12v2.146a.25.25 0 0 1-.427.177Z"></path></svg>
                <% } %>
              <% } %>
            </div>
            <div class="content">
              <!-- Event -->
              <div class="event">
                <img class="avatar <%= event.actor.type %>" src="<%= event.actor.avatar %>" alt="">
                <% if (type === "star") { %>
                  <div><span class="link"><%= event.actor.login %></span> starred a repository</div>
                <% } %>
                <% if (type === "issue") { %>
                  <div><span class="link"><%= event.actor.login %></span> <%= event.action %> issue <span class="link">#<%= event.issue.number %></span> in <span class="link"><%= event.repository.name %></span></div>
                <% } %>
              </div>

              <!-- Issue -->
              <% if (event.issue) { %>
                <div class="card issue">
                  <div class="header field">
                    <div class="name link">#<%= event.issue.number %> <%= event.issue.title %></div>
                  </div>
                  <div class="subheader rows">
                    <% if (event.issue.author.login !== event.actor.login) { %>
                      <div class="author">
                        <img class="avatar <%= event.issue.author.type %>" src="<%= event.issue.author.avatar %>" alt="">
                        <div>opened by <span class="link"><%= event.issue.author.login %></span></div>
                      </div>
                    <% } %>
                    <% if (event.issue.labels.length > 0) { %>
                      <div class="labels">
                        <% for (const label of event.issue.labels) { %>
                          <span class="link" style="background-color: <%= `#${label.color}20` %>; color: <%= `#${label.color}` %>"><%= label.name %></span>
                        <% } %>
                      </div>
                    <% } %>
                  </div>
                  <% if (event.issue.content) { %>
                    <div class="markdown description"><%- await markdown(event.issue.content) %></div>
                  <% } %>
                  <div class="metadata">
                    <% if (Object.values(event.issue.reactions).reduce((a, b) => a + b, 0)) { %>
                      <div class="reactions">
                        <% for (const [reaction, value] of Object.entries(event.issue.reactions).filter(([_, value]) => value)) { %>
                          <span><%= reaction %> <%= value %></span>
                        <% } %>
                      </div>
                    <% } %>
                    <div class="grow"></div>
                    <% if (event.issue.milestone) { %>
                      <div class="milestone field">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M7.75 0a.75.75 0 0 1 .75.75V3h3.634c.414 0 .814.147 1.13.414l2.07 1.75a1.75 1.75 0 0 1 0 2.672l-2.07 1.75a1.75 1.75 0 0 1-1.13.414H8.5v5.25a.75.75 0 0 1-1.5 0V10H2.75A1.75 1.75 0 0 1 1 8.25v-3.5C1 3.784 1.784 3 2.75 3H7V.75A.75.75 0 0 1 7.75 0Zm4.384 8.5a.25.25 0 0 0 .161-.06l2.07-1.75a.248.248 0 0 0 0-.38l-2.07-1.75a.25.25 0 0 0-.161-.06H2.75a.25.25 0 0 0-.25.25v3.5c0 .138.112.25.25.25h9.384Z"></path></svg>
                        <%= event.issue.milestone %>
                      </div>
                    <% } %>
                    <div class="comments field">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M1 2.75C1 1.784 1.784 1 2.75 1h10.5c.966 0 1.75.784 1.75 1.75v7.5A1.75 1.75 0 0 1 13.25 12H9.06l-2.573 2.573A1.458 1.458 0 0 1 4 13.543V12H2.75A1.75 1.75 0 0 1 1 10.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h4.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path></svg>
                      <%= format.number(event.issue.comments) %>
                    </div>
                  </div>
                </div>
              <% } %>

              <!-- Repository -->
              <% if (event.repository.description) { %>
                <div class="card repository">
                  <div class="header field">
                    <div class="icon">
                      <img class="avatar <%= event.repository.owner.type %>" src="<%= event.repository.owner.avatar %>" alt="">
                      <% if (event.repository.fork) { %>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16ZM6 6.928a1.75 1.75 0 1 0-1 0V7.5A1.5 1.5 0 0 0 6.5 9h1v1.072a1.75 1.75 0 1 0 1 0V9h1A1.5 1.5 0 0 0 11 7.5v-.572a1.75 1.75 0 1 0-1 0V7.5a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5Z"></path></svg>
                      <% } else { %>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16ZM5.5 4A1.5 1.5 0 0 0 4 5.5v5c0 .828.5 1.5 1 1.5v-1a1 1 0 0 1 1-1h5v1h-1v1h1.5a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.5-.5Zm.5 7.25v2.514a.25.25 0 0 0 .426.178l.898-.888a.25.25 0 0 1 .352 0l.898.888A.25.25 0 0 0 9 13.764V11H6.25a.25.25 0 0 0-.25.25Z"></path></svg>
                      <% } %>
                    </div>
                    <div class="name link"><%= event.repository.name %></div>
                  </div>
                  <div class="description"><%= event.repository.description %></div>
                  <% if (event.repository.topics.length > 0) { %>
                    <div class="topics">
                      <% for (const topic of event.repository.topics) { %>
                        <span class="link"><%= topic %></span>
                      <% } %>
                    </div>
                  <% } %>
                  <div class="metadata">
                    <div class="language field">
                      <div class="dot" style="background-color: <%= `#${event.repository.language.color}` %>"></div>
                      <%= event.repository.language.name %>
                    </div>
                    <% if (event.repository.license) { %>
                      <div class="license field">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M8.75.75V2h.985c.304 0 .603.08.867.231l1.29.736c.038.022.08.033.124.033h2.234a.75.75 0 0 1 0 1.5h-.427l2.111 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.006.005-.01.01-.045.04c-.21.176-.441.327-.686.45C14.556 10.78 13.88 11 13 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L12.178 4.5h-.162c-.305 0-.604-.079-.868-.231l-1.29-.736a.245.245 0 0 0-.124-.033H8.75V13h2.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5h2.5V3.5h-.984a.245.245 0 0 0-.124.033l-1.289.737c-.265.15-.564.23-.869.23h-.162l2.112 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.016.015-.045.04c-.21.176-.441.327-.686.45C4.556 10.78 3.88 11 3 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L2.178 4.5H1.75a.75.75 0 0 1 0-1.5h2.234a.249.249 0 0 0 .125-.033l1.288-.737c.265-.15.564-.23.869-.23h.984V.75a.75.75 0 0 1 1.5 0Zm2.945 8.477c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L13 6.327Zm-10 0c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L3 6.327Z"></path></svg>
                        <%= event.repository.license %>
                      </div>
                    <% } %>
                    <div class="grow"></div>
                    <div class="issues field">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path></svg>
                      <%= format.number(event.repository.issues) %>
                    </div>
                    <div class="stargazers field">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path></svg>
                      <%= format.number(event.repository.stargazers) %>
                    </div>
                    <div class="watchers field">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M8 2c1.981 0 3.671.992 4.933 2.078 1.27 1.091 2.187 2.345 2.637 3.023a1.62 1.62 0 0 1 0 1.798c-.45.678-1.367 1.932-2.637 3.023C11.67 13.008 9.981 14 8 14c-1.981 0-3.671-.992-4.933-2.078C1.797 10.83.88 9.576.43 8.898a1.62 1.62 0 0 1 0-1.798c.45-.677 1.367-1.931 2.637-3.022C4.33 2.992 6.019 2 8 2ZM1.679 7.932a.12.12 0 0 0 0 .136c.411.622 1.241 1.75 2.366 2.717C5.176 11.758 6.527 12.5 8 12.5c1.473 0 2.825-.742 3.955-1.715 1.124-.967 1.954-2.096 2.366-2.717a.12.12 0 0 0 0-.136c-.412-.621-1.242-1.75-2.366-2.717C10.824 4.242 9.473 3.5 8 3.5c-1.473 0-2.825.742-3.955 1.715-1.124.967-1.954 2.096-2.366 2.717ZM8 10a2 2 0 1 1-.001-3.999A2 2 0 0 1 8 10Z"></path></svg>
                      <%= format.number(event.repository.watchers) %>
                    </div>
                    <div class="forks field">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"></path></svg>
                      <%= format.number(event.repository.forks) %>
                    </div>
                  </div>
                </div>
              <% } %>
            </div>
          </div>
        <% } %>
      </div>
    <% } %>
  </div>
  <style>
    /* Account avatars */
    .activity .avatar {
      height: 1.5em;
      width: 1.5em;
      border-radius: 4px;
      background-color: var(--color-svg-alpha-background);
    }
    .activity .avatar.user {
      border-radius: 50%;
    }

    /* Timeline entry */
    .activity .entry > .icon {
      background-color: var(--color-svg-alpha-background);
      border-radius: 50%;
      display: flex;
      align-items: center;
      height: fit-content;
      padding: 4px;
      margin-left: 8px;
      margin-top: -2px;
    }
    .activity .entry > .icon svg {
      fill: currentColor;
    }
    .activity .entry > .content {
      flex-grow: 1;
      border-left: 4px solid var(--color-svg-alpha-background);
      margin-left: calc(-7px - .5em);
      padding-left: 16px;
      padding-bottom: 20px;
      max-width: calc(100% - 38px);
    }
    .activity .entry .link {
      color: var(--color-link);
    }
    .activity .entry .author {
      display: flex;
      align-items: center;
    }

    /* Timeline event */
    .activity .event {
      display: flex;
      align-items: flex-start;
      margin-bottom: 4px;
    }

    /* Timeline card */
    .activity .card {
      background-color: var(--color-svg-alpha-background);
      border-radius: 8px;
      padding: 4px 8px;
    }
    .activity .card .subheader > * {
      margin-top: 4px;
    }
    .activity .card .subheader .avatar {
      height: 1.25em;
      width: 1.25em;
    }
    .activity .card .description {
      margin: 6px 0 8px;
      overflow: hidden;
      display: -webkit-box;
      -webkit-line-clamp: 20;
      -webkit-box-orient: vertical;
    }
    .activity .card .topics, .activity .card .labels, .activity .card .reactions {
      margin-bottom: 6px;
    }
    .activity .card .topics > *, .activity .card .labels > *, .activity .card .reactions > * {
      border-radius: 32px;
      padding: 2px 10px;
      font-size: 12px;
    }
    .activity .card .topics > *, .activity .card .reactions > * {
      background-color: var(--color-label-alpha-background);
    }
    .activity .card .metadata {
      display: flex;
      font-size: 12px;
    }
    .activity .card .metadata .grow {
      flex-grow: 1;
    }
    .activity .card .metadata .field {
      margin-right: 12px;
    }
    .activity .card .metadata .field svg {
      height: 1em;
      width: 1em;
    }
    .activity .card .metadata .language {
      align-items: center;
    }
    .activity .card .metadata .language .dot {
      background-color: var(--color-svg);
      border-radius: 50%;
      height: 8px;
      width: 8px;
      margin-right: 4px;
    }

    /* Timeline repository card */
    .activity .card.repository .icon {
      position: relative;
      margin-right: 12px;
    }
    .activity .card.repository .icon svg {
      position: absolute;
      bottom: -2px;
      right: -8px;
      opacity: .7;
    }
  </style>
</section>






<!--
  timestamp: 1700617654000,

}





event.common.merge(event.user).extend({
  type: is.literal("issue").describe("Event type"),
  number: is.number().int().min(0).describe("Issue number"),
  title: is.string().describe("Issue title"),
  content: is.string().describe("Issue content"),
  labels: is.array(is.object({name: is.string(), color: is.string()})).describe("Issue labels"),
  assignees: is.array(event.user).describe("Issue assignees"),
  milestone: is.string().nullable().describe("Issue milestone"),
  comments: is.number().int().min(0).describe("Issue number of comments"),
  reactions: is.record(is.number().int().min(0)).describe("Issue reactions"),
}),
event.common.merge(event.user).extend({
  type: is.literal("pullrequest").describe("Event type"),
  number: is.number().int().min(0).describe("Pull request number"),
  title: is.string().describe("Pull request title"),
  content: is.string().describe("Pull request content"),
  labels: is.array(is.object({name: is.string(), color: is.string()})).describe("Pull request labels"),
  assignees: is.array(event.user).describe("Pull request assignees"),
  milestone: is.string().nullable().describe("Pull request milestone"),
  comments: is.number().int().min(0).describe("Pull request number of content comments"),
  reactions: is.record(is.number().int().min(0)).describe("Pull request reactions"),
  draft: is.boolean().describe("Pull request is a draft"),
  head: is.object({
    branch: is.string().describe("Pull request head branch"),
    repository: is.string().describe("Pull request head repository"),
  }).describe("Pull request head"),
  base: is.object({
    branch: is.string().describe("Pull request base branch"),
    repository: is.string().describe("Pull request base repository"),
  }).describe("Pull request base"),
  changes: is.object({
    additions: is.number().int().min(0).describe("Pull request number of additions"),
    deletions: is.number().int().min(0).describe("Pull request number of deletions"),
    files: is.number().int().min(0).describe("Pull request number of changed files"),
  }).describe("Pull request changes"),
}),
event.common.merge(event.user).extend({
  type: is.literal("release").describe("Event type"),
  tag: is.string().describe("Release tag"),
  title: is.string().describe("Release title"),
  content: is.string().describe("Release patchnote"),
  draft: is.boolean().describe("Release is a draft"),
  prerelease: is.boolean().describe("Release is a prerelease"),
  mentions: is.array(event.user)
}),
event.common.extend({
  type: is.literal("star").describe("Event type"),
}),-->